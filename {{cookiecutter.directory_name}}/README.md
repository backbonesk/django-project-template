# {{cookiecutter.directory_name}}

{{cookiecutter.description}}

## Database basic setup

### Load data from fixtures to DB:
- `python manage.py loaddata apikeys users`

### Dump data from DB to fixtures:
- `python manage.py dumpdata core.<ModelClassName> > apps/core/fixtures/<TableName>.json`

## ApiKey Middleware

To skip apikey and signature checking process, you need to specify `apikey_exempt`:

### Class-based Views

> To deny checking process in the class-based view, you need to specify, which method you want to mark.
> This is accomplished by adding **class argument** `apikey_exempt` with an array of method names.

```python
from django.views import View


class ExampleClassBasedView(View):
    apikey_exempt = ['POST']

    def post(self, request):
        pass

    def get(self, request):
        pass
```

### Function-based Views

> For skipping signature and apikey checking in the function-based-views we use **decorator** `apikey_exempt`.

```python
from django.views.decorators.http import require_http_methods

from apps.api.decorators import apikey_exempt
from apps.api.response import PaginationResponse


@apikey_exempt
@require_http_methods(['GET'])
def example_function_based_view(request):
    data = {
        'foo': 1,
        'bar': 'example'
    }

    return PaginationResponse(request, data)
```

## Cron jobs

Rules generated by [crontab.guru](https://crontab.guru/).

| Active | Name                           | Rule          | Description                                               |
|--------|--------------------------------|---------------|-----------------------------------------------------------|
| True   | `example_job`                  | `30 * * * *`  | Example CRON job                                          |

---
Made with ❤️ and ☕️ BACKBONE s.r.o. (c) 2021
